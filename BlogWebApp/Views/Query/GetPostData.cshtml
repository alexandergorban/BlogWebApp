@model BlogWebApp.ViewModels.QueryViewModel<BlogWebApp.ViewModels.PostQueryViewModel>


@{
    ViewData["Title"] = "GetPostData";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br/>
<div>
    <a class="btn btn-default" asp-action="Index">Back to Queries List</a>
</div>
<h4>6. Show the structure: Post, Longest comment of the post, Most liked comment on the post, Number of comments under the post</h4>
<div class="col-md-12">
    @using (Html.BeginForm("GetPostData", "Query", FormMethod.Post))
    {
    <div class="col-md-12">
        @Html.LabelFor(m => m.Id)
    </div>
    <div class="col-md-12">
        @Html.TextBoxFor(x => x.Id)
    </div>
    <div class="col-md-12">
        @Html.ValidationMessageFor(m => m.Id, "")
    </div>
    <div class="col-md-12">
        <input type="submit" class="btn btn-primary" value="Search" />
    </div>
    }
</div>
<div class="col-md-12">
    @if (Model.IsExistQueryResult)
    {
        @if (Model.QueryResult != null)
         {
             <div class="col-md-12">
                 <h4>Query Result:</h4>
             </div>
             <div class="col-md-12">
                 <p>Post Id: @Model.QueryResult.Post.Id</p>
                 <p>1. Post Title: @Model.QueryResult.Post.Title</p>
                 <p>2. The longest comment of the post: @Model.QueryResult.LongestComment</p>
                 <p>3. The most like comment of the post: @Model.QueryResult.MostLikedComment</p>
                 <p>4. Number of unpopular comments under the post: @Model.QueryResult.MostUnpopularCommentsCount</p>
             </div>
         }
    }
    else
    {
        <div class="col-md-12">
            <p>The query result is missing.</p>
        </div>
    }
</div>